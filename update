https://igorwhale.ru/masa-finance-setup-guide

Резервное копирование nodekey
# Копируем ключ в домашнюю директорию
sudo cp /var/lib/docker/volumes/masa-node-v10_vol1/_data/dd/geth/nodekey ~/
# Выводим содержимое nodekey на экран
sudo cat ~/nodekey
# Просмотр и правка nodekey в редакторе nano
sudo nano /var/lib/docker/volumes/masa-node-v10_vol1/_data/dd/geth/nodekey

Обновление Masa
# Остановка ноды
cd ~/masa-node-v1.0
docker-compose down

# Удаляем директорию Masa и старые файлы
cd ~
rm -rf ~/masa-node-v1.0

# Внимание!!!
# Если вы используете Docker в других нодах на этом сервере,
# то не выполняйте эту команду без консультации в РУ-Telegram Masa Finance 
# Удаляем неиспользуемые Docker-volume (команда освободит место на диске)
# Только при обновлении с 1.02 до 1.03
sudo docker volume prune

# Клонируем репозиторий Masa Finance
git clone https://github.com/masa-finance/masa-node-v1.0.git

# Запуск ноды
cd ~/masa-node-v1.0
PRIVATE_CONFIG=ignore docker-compose up -d

Добавление альтернативных бутнод (bootnodes)
# Остановка ноды
cd ~/masa-node-v1.0
docker-compose down
# Открываем конфигурационный файл 
nano ~/masa-node-v1.0/docker-compose.yml
# 1. Находим и заменяем содержимое параметра --bootnodes на
--bootnodes enode://91a3c3d5e76b0acf05d9abddee959f1bcbc7c91537d2629288a9edd7a3df90acaa46ffba0e0e5d49a20598e0960ac458d76eb8fa92a1d64938c0a3a3d60f8be4@54.158.188.182:21000,enode://571be7fe060b183037db29f8fe08e4fed6e87fbb6e7bc24bc34e562adf09e29e06067be14e8b8f0f2581966f3424325e5093daae2f6afde0b5d334c2cd104c79@142.132.135.228:21000,enode://269ecefca0b4cd09bf959c2029b2c2caf76b34289eb6717d735ce4ca49fbafa91de8182dd701171739a8eaa5d043dcae16aee212fe5fadf9ed8fa6a24a56951c@65.108.72.177:21000,enode://d2afd84a880543a63f76d03a5e7a512e3b4d811c1d2d899dd9dd250ab093d892f05c559b6822498c5e29ad029ada71a93ad17e4a77f1d83474de417b4757ace2@82.146.35.68:30300,enode://52f736e778b1db7ece0ea2d20e1d2979db88456e7e8392abd7fb2c1bea7b73346a40de97e43615d3baac50b9bae2c16f1b156dd3c41dffd547eaaa6670ca992e@188.120.238.54:30300,enode://ac6b1096ca56b9f6d004b779ae3728bf83f8e22453404cc3cef16a3d9b96608bc67c4b30db88e0a5a6c6390213f7acbe1153ff6d23ce57380104288ae19373ef@54.146.254.245:21000
# 2. Находим в файле раздел "ports:"
# После - "22001:8545" добавляем ещё одну строку    
- "21000:21000"

# Cохраняем файл (CTRL+O > ENTER > CTRL+X)
# Запуск ноды
cd ~/masa-node-v1.0
PRIVATE_CONFIG=ignore docker-compose up -d

















